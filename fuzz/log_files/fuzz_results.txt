ERROR INFO

ERROR NUMBER 1
runtime error: invalid memory address or nil pointer dereference
/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/hotstuff.pb.go:605

- STACK TRACE BEGIN
goroutine 6 [running]:
runtime/debug.Stack()
	/usr/lib/go/src/runtime/debug/stack.go:24 +0x65
github.com/relab/hotstuff/twins.fuzzMsgToMsg.func1()
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:184 +0x3b
panic({0x9489c0, 0xe1c0d0})
	/usr/lib/go/src/runtime/panic.go:884 +0x213
github.com/relab/hotstuff/internal/proto/hotstuffpb.(*QuorumSignature).GetECDSASigs(...)
	/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/hotstuff.pb.go:605
github.com/relab/hotstuff/internal/proto/hotstuffpb.QuorumSignatureFromProto(0xc0004be200?)
	/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/convert.go:39 +0x45
github.com/relab/hotstuff/internal/proto/hotstuffpb.PartialCertFromProto(0xc000386ea8?)
	/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/convert.go:73 +0xbd
github.com/relab/hotstuff/twins.(*VoteMsg).ToMsg(0xc000386ea0)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_types.go:142 +0x66
github.com/relab/hotstuff/twins.fuzzMsgToMsg(0xc0000246e0?, {0xaaeb60?, 0xc000386ea0?})
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:191 +0x6c
github.com/relab/hotstuff/twins.TestFuzz(0x0?)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:246 +0x145
testing.tRunner(0xc0000d2d00, 0xa28538)
	/usr/lib/go/src/testing/testing.go:1576 +0x10b
created by testing.(*T).Run
	/usr/lib/go/src/testing/testing.go:1629 +0x3ea
- STACK TRACE END

- FUZZ MESSAGE BEGIN
VoteMsg{
	Deferred: 1770750249
	ID: false
	PartialCert: hotstuffpb.PartialCert{
		Sig: hotstuffpb.QuorumSignature{
			Sig: nil
		}
		Hash: [102 200 128 154 146 168 181]
	}
}
- FUZZ MESSAGE END


ERROR NUMBER 2
runtime error: invalid memory address or nil pointer dereference
/home/abje/git_clones/hotstuff_assi/crypto/crypto.go:112 +0x130

- STACK TRACE BEGIN
goroutine 6 [running]:
runtime/debug.Stack()
	/usr/lib/go/src/runtime/debug/stack.go:24 +0x65
github.com/relab/hotstuff/twins.TryExecuteScenario.func1()
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:126 +0x3b
panic({0x9489c0, 0xe1c0d0})
	/usr/lib/go/src/runtime/panic.go:884 +0x213
github.com/relab/hotstuff/crypto.crypto.VerifyQuorumCert({{0xab1eb8, 0xc0005bfc70}, {0xab42d8, 0xc000a8d5a0}, {0xab1740, 0xc000a85c20}}, {{0x0, 0x0}, 0x0, {0x0, ...}})
	/home/abje/git_clones/hotstuff_assi/crypto/crypto.go:112 +0x130
github.com/relab/hotstuff/consensus.(*consensusBase).OnPropose(0xc00057c1e0, {0x0?, 0xc0006c6460?, 0x0?})
	/home/abje/git_clones/hotstuff_assi/consensus/consensus.go:181 +0x3ed
github.com/relab/hotstuff/consensus.(*consensusBase).InitModule.func1({0x998f60?, 0xc00045b2d8?})
	/home/abje/git_clones/hotstuff_assi/consensus/consensus.go:94 +0x45
github.com/relab/hotstuff/eventloop.(*EventLoop).processEvent(0xc0005bfc00, {0x998f60?, 0xc00045b2d8?})
	/home/abje/git_clones/hotstuff_assi/eventloop/eventloop.go:128 +0x19b
github.com/relab/hotstuff/eventloop.(*EventLoop).Tick(0xc0005bfc00)
	/home/abje/git_clones/hotstuff_assi/eventloop/eventloop.go:106 +0x65
github.com/relab/hotstuff/twins.(*Network).tick(0xc0005ae000)
	/home/abje/git_clones/hotstuff_assi/twins/network.go:190 +0x168
github.com/relab/hotstuff/twins.(*Network).run(0xc0005ae000, 0x64)
	/home/abje/git_clones/hotstuff_assi/twins/network.go:176 +0x205
github.com/relab/hotstuff/twins.ExecuteScenario({0xc0006de600, 0x4, 0x4}, 0x4, 0x0, 0xc00045b2f0?, {0x9ee2b2, 0xf}, {0xc000131c30, 0x2, ...})
	/home/abje/git_clones/hotstuff_assi/twins/scenario.go:76 +0x55f
github.com/relab/hotstuff/twins.TryExecuteScenario(0xc0000d2d00, 0xc0004cf0e0?, {0xc0006de600?, 0xc000434600?, 0x1e?}, 0x20?, 0x0?, 0x1e?, {0x9ee2b2, 0xf}, ...)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:133 +0x149
github.com/relab/hotstuff/twins.fuzzScenario(0xc0000246e0?, 0xaaeb10?, {0x998f60, 0xc00045b2d8})
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:170 +0x4b5
github.com/relab/hotstuff/twins.TestFuzz(0x0?)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:250 +0x15f
testing.tRunner(0xc0000d2d00, 0xa28538)
	/usr/lib/go/src/testing/testing.go:1576 +0x10b
created by testing.(*T).Run
	/usr/lib/go/src/testing/testing.go:1629 +0x3ea
- STACK TRACE END

- FUZZ MESSAGE BEGIN
ProposeMsg{
	ID: 3745466538
	Proposal: hotstuffpb.Proposal{
		Block: nil
		AggQC: nil
	}
}
- FUZZ MESSAGE END


ERROR NUMBER 3
runtime error: invalid memory address or nil pointer dereference
/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/hotstuff.pb.go:612

- STACK TRACE BEGIN
goroutine 6 [running]:
runtime/debug.Stack()
	/usr/lib/go/src/runtime/debug/stack.go:24 +0x65
github.com/relab/hotstuff/twins.fuzzMsgToMsg.func1()
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:184 +0x3b
panic({0x9489c0, 0xe1c0d0})
	/usr/lib/go/src/runtime/panic.go:884 +0x213
github.com/relab/hotstuff/internal/proto/hotstuffpb.(*QuorumSignature).GetBLS12Sig(...)
	/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/hotstuff.pb.go:612
github.com/relab/hotstuff/internal/proto/hotstuffpb.QuorumSignatureFromProto(0x0?)
	/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/convert.go:50 +0xb9
github.com/relab/hotstuff/internal/proto/hotstuffpb.PartialCertFromProto(0xc00069efc8?)
	/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/convert.go:73 +0xbd
github.com/relab/hotstuff/twins.(*VoteMsg).ToMsg(0xc00069efc0)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_types.go:142 +0x66
github.com/relab/hotstuff/twins.fuzzMsgToMsg(0xc0000246e0?, {0xaaeb60?, 0xc00069efc0?})
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:191 +0x6c
github.com/relab/hotstuff/twins.TestFuzz(0x0?)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:246 +0x145
testing.tRunner(0xc0000d2d00, 0xa28538)
	/usr/lib/go/src/testing/testing.go:1576 +0x10b
created by testing.(*T).Run
	/usr/lib/go/src/testing/testing.go:1629 +0x3ea
- STACK TRACE END

- FUZZ MESSAGE BEGIN
VoteMsg{
	Deferred: 3939156344
	ID: true
	PartialCert: hotstuffpb.PartialCert{
		Sig: hotstuffpb.QuorumSignature{
			Sig: nil
		}
		Hash: [48 66 188 30 55 131 240]
	}
}
- FUZZ MESSAGE END


ERROR NUMBER 4
runtime error: invalid memory address or nil pointer dereference
/home/abje/git_clones/hotstuff_assi/crypto/cache.go:92 +0x15a

- STACK TRACE BEGIN
goroutine 6 [running]:
runtime/debug.Stack()
	/usr/lib/go/src/runtime/debug/stack.go:24 +0x65
github.com/relab/hotstuff/twins.TryExecuteScenario.func1()
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:126 +0x3b
panic({0x9489c0, 0xe1c0d0})
	/usr/lib/go/src/runtime/panic.go:884 +0x213
github.com/relab/hotstuff/crypto.(*cache).Verify(0xc001729560, {0x0, 0x0}, {0xc00140b680, 0x8, 0x8})
	/home/abje/git_clones/hotstuff_assi/crypto/cache.go:92 +0x15a
github.com/relab/hotstuff/synchronizer.(*Synchronizer).OnRemoteTimeout(0xc002a58900, {0x54e1d84a, 0x16294b2a4ff71886, {0x0, 0x0}, {0x0, 0x0}, {0x0, 0x0, 0x0}})
	/home/abje/git_clones/hotstuff_assi/synchronizer/synchronizer.go:210 +0xe6
github.com/relab/hotstuff/synchronizer.(*Synchronizer).InitModule.func3({0x9b5a20?, 0xc0026b5b30?})
	/home/abje/git_clones/hotstuff_assi/synchronizer/synchronizer.go:73 +0xd2
github.com/relab/hotstuff/eventloop.(*EventLoop).processEvent(0xc0023a58f0, {0x9b5a20?, 0xc0026b5b30?})
	/home/abje/git_clones/hotstuff_assi/eventloop/eventloop.go:128 +0x19b
github.com/relab/hotstuff/eventloop.(*EventLoop).Tick(0xc0023a58f0)
	/home/abje/git_clones/hotstuff_assi/eventloop/eventloop.go:106 +0x65
github.com/relab/hotstuff/twins.(*Network).tick(0xc000eee0b0)
	/home/abje/git_clones/hotstuff_assi/twins/network.go:190 +0x168
github.com/relab/hotstuff/twins.(*Network).run(0xc000eee0b0, 0x64)
	/home/abje/git_clones/hotstuff_assi/twins/network.go:176 +0x205
github.com/relab/hotstuff/twins.ExecuteScenario({0xc002b12100, 0x4, 0x4}, 0x4, 0x0, 0xc001654198?, {0x9ee2b2, 0xf}, {0xc001695c30, 0x2, ...})
	/home/abje/git_clones/hotstuff_assi/twins/scenario.go:76 +0x55f
github.com/relab/hotstuff/twins.TryExecuteScenario(0xc0000d2d00, 0xc00166e900?, {0xc002b12100?, 0xc000ce4200?, 0x1e?}, 0x20?, 0x0?, 0x1e?, {0x9ee2b2, 0xf}, ...)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:133 +0x149
github.com/relab/hotstuff/twins.fuzzScenario(0xc0000246e0?, 0xaaeb38?, {0x9b5a20, 0xc0026b5b30})
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:170 +0x4b5
github.com/relab/hotstuff/twins.TestFuzz(0x0?)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:250 +0x15f
testing.tRunner(0xc0000d2d00, 0xa28538)
	/usr/lib/go/src/testing/testing.go:1576 +0x10b
created by testing.(*T).Run
	/usr/lib/go/src/testing/testing.go:1629 +0x3ea
- STACK TRACE END

- FUZZ MESSAGE BEGIN
VoteFuzzMsg{
	ID: 1424087114
	TimeoutMsg: hotstuffpb.TimeoutMsg{
		View: 1596890187981854854
		SyncInfo: nil
		ViewSig: hotstuffpb.QuorumSignature{
			Sig: hotstuffpb.QuorumSignature_BLS12Sig{
				BLS12Sig: hotstuffpb.BLS12AggregateSignature{
					Sig: [152]
					Participants: [129 30 118 162 62 231]
				},
			},
		}
		MsgSig: hotstuffpb.QuorumSignature{
			Sig: hotstuffpb.QuorumSignature_ECDSASigs{
				ECDASigs: nil
			},
		}
	}
}
- FUZZ MESSAGE END


ERROR NUMBER 5
runtime error: invalid memory address or nil pointer dereference
/home/abje/git_clones/hotstuff_assi/crypto/crypto.go:128 +0x64

- STACK TRACE BEGIN
goroutine 6 [running]:
runtime/debug.Stack()
	/usr/lib/go/src/runtime/debug/stack.go:24 +0x65
github.com/relab/hotstuff/twins.TryExecuteScenario.func1()
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:126 +0x3b
panic({0x9489c0, 0xe1c0d0})
	/usr/lib/go/src/runtime/panic.go:884 +0x213
github.com/relab/hotstuff/crypto.crypto.VerifyTimeoutCert({{0xab1eb8, 0xc0002f4620}, {0xab42d8, 0xc0004ab920}, {0xab1740, 0xc0002dbf80}}, {{0x0?, 0x0?}, 0xc0004bcea0?})
	/home/abje/git_clones/hotstuff_assi/crypto/crypto.go:128 +0x64
github.com/relab/hotstuff/synchronizer.(*Synchronizer).AdvanceView(0xc0003e66c0, {0xc000482340?, 0xc00023fba8?, 0x0?})
	/home/abje/git_clones/hotstuff_assi/synchronizer/synchronizer.go:273 +0xb6
github.com/relab/hotstuff/synchronizer.(*Synchronizer).OnNewView(...)
	/home/abje/git_clones/hotstuff_assi/synchronizer/synchronizer.go:262
github.com/relab/hotstuff/synchronizer.(*Synchronizer).InitModule.func2({0x96c4e0?, 0xc000284540?})
	/home/abje/git_clones/hotstuff_assi/synchronizer/synchronizer.go:68 +0x46
github.com/relab/hotstuff/eventloop.(*EventLoop).processEvent(0xc0002f45b0, {0x96c4e0?, 0xc000284540?})
	/home/abje/git_clones/hotstuff_assi/eventloop/eventloop.go:128 +0x19b
github.com/relab/hotstuff/eventloop.(*EventLoop).Tick(0xc0002f45b0)
	/home/abje/git_clones/hotstuff_assi/eventloop/eventloop.go:106 +0x65
github.com/relab/hotstuff/twins.(*Network).tick(0xc000484000)
	/home/abje/git_clones/hotstuff_assi/twins/network.go:190 +0x168
github.com/relab/hotstuff/twins.(*Network).run(0xc000484000, 0x64)
	/home/abje/git_clones/hotstuff_assi/twins/network.go:176 +0x205
github.com/relab/hotstuff/twins.ExecuteScenario({0xc00021c200, 0x4, 0x4}, 0x4, 0x0, 0xc00023fbc0?, {0x9ee2b2, 0xf}, {0xc000187c30, 0x2, ...})
	/home/abje/git_clones/hotstuff_assi/twins/scenario.go:76 +0x55f
github.com/relab/hotstuff/twins.TryExecuteScenario(0xc0000d2d00, 0xc0004bc030?, {0xc00021c200?, 0xc0002fe000?, 0x1e?}, 0x20?, 0x0?, 0x1e?, {0x9ee2b2, 0xf}, ...)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:133 +0x149
github.com/relab/hotstuff/twins.fuzzScenario(0xc0000246e0?, 0xaaeae8?, {0x96c4e0, 0xc000284540})
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:170 +0x4b5
github.com/relab/hotstuff/twins.TestFuzz(0x0?)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:250 +0x15f
testing.tRunner(0xc0000d2d00, 0xa28538)
	/usr/lib/go/src/testing/testing.go:1576 +0x10b
created by testing.(*T).Run
	/usr/lib/go/src/testing/testing.go:1629 +0x3ea
- STACK TRACE END

- FUZZ MESSAGE BEGIN
NewViewMsg{
	ID: 4100604945
	SyncInfo: hotstuffpb.SyncInfo{
		QC: hotstuffpb.QuorumCert{
			Sig: hotstuffpb.QuorumSignature{
				Sig: hotstuffpb.QuorumSignature_BLS12Sig{
					BLS12Sig: hotstuffpb.BLS12AggregateSignature{
						Sig: [208 158 84 32]
						Participants: [117 208 138 132 23 237 164]
					},
				},
			}
			View: 8878503688739280836
			Hash: [97 37 84 52 164 52]
		}
		TC: hotstuffpb.TimeoutCert{
			Sig: hotstuffpb.QuorumSignature{
				Sig: hotstuffpb.QuorumSignature_BLS12Sig{
					BLS12Sig: hotstuffpb.BLS12AggregateSignature{
						Sig: [97 43 221 93 82 237 25 65]
						Participants: [231 55 23 167 196 252 109 167]
					},
				},
			}
			View: 17172483342469943423
		}
		AggQC: nil
	}
}
- FUZZ MESSAGE END


ERROR NUMBER 6
runtime error: invalid memory address or nil pointer dereference
/home/abje/git_clones/hotstuff_assi/types.go:144 +0x5c

- STACK TRACE BEGIN
goroutine 6 [running]:
runtime/debug.Stack()
	/usr/lib/go/src/runtime/debug/stack.go:24 +0x65
github.com/relab/hotstuff/twins.fuzzMsgToMsg.func1()
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:184 +0x3b
panic({0x9489c0, 0xe1c0d0})
	/usr/lib/go/src/runtime/panic.go:884 +0x213
github.com/relab/hotstuff.NewPartialCert({0x0, 0x0}, {0x35, 0x7, 0x37, 0xc4, 0xa0, 0x19, 0x7e, 0xee, ...})
	/home/abje/git_clones/hotstuff_assi/types.go:144 +0x5c
github.com/relab/hotstuff/internal/proto/hotstuffpb.PartialCertFromProto(0xc00027fc88?)
	/home/abje/git_clones/hotstuff_assi/internal/proto/hotstuffpb/convert.go:73 +0xd5
github.com/relab/hotstuff/twins.(*VoteMsg).ToMsg(0xc00027fc80)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_types.go:142 +0x66
github.com/relab/hotstuff/twins.fuzzMsgToMsg(0xc0000246e0?, {0xaaeb60?, 0xc00027fc80?})
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:191 +0x6c
github.com/relab/hotstuff/twins.TestFuzz(0x0?)
	/home/abje/git_clones/hotstuff_assi/twins/fuzz_test.go:246 +0x145
testing.tRunner(0xc0000d2d00, 0xa28538)
	/usr/lib/go/src/testing/testing.go:1576 +0x10b
created by testing.(*T).Run
	/usr/lib/go/src/testing/testing.go:1629 +0x3ea
- STACK TRACE END

- FUZZ MESSAGE BEGIN
VoteMsg{
	Deferred: 654205439
	ID: true
	PartialCert: hotstuffpb.PartialCert{
		Sig: nil
		Hash: [53 7 55 196 160 25 126 238 50 9]
	}
}
- FUZZ MESSAGE END

unique errors found: 6
9178 runs were errors
8790 of 18360 scenarios failed
388 of 1000 messages failed